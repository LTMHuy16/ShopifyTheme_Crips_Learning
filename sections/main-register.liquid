{% if customer %}
  <script type="text/javascript">
      window.location.href= "{{ routes.root_url }}"
  </script>
{% else %}
  <script type="text/javascript">
    window.location.replace= ("{{ routes.account_register_url  }}")
  </script>


{{ 'section-customer.css' | asset_url | stylesheet_tag }}

<div class="customer__account register">
	<div class="container">
		<div class="customer__account-inner">
			<div class="customer__account-item">
				{%- for block in section.blocks -%}
				{%- if block.type == "background" -%}
					{% if block.settings.image != blank %}
						{%- assign assign image_size = '1120x1200,560x600,560x600,560x600' -%}

						{%- render 'ob-image', block: block, image_size: image_size -%}
					{% endif %}
				{%- endif -%}
			{%- endfor -%}
			</div>
			<div class="customer__account-item">

				<svg style="display: none">
					<symbol id="icon-error" viewBox="0 0 13 13">
					<circle cx="6.5" cy="6.50049" r="5.5" stroke="white" stroke-width="2"/>
					<circle cx="6.5" cy="6.5" r="5.5" fill="#EB001B" stroke="#EB001B" stroke-width="0.7"/>
					<path d="M5.87413 3.52832L5.97439 7.57216H7.02713L7.12739 3.52832H5.87413ZM6.50076 9.66091C6.88091 9.66091 7.18169 9.37267 7.18169 9.00504C7.18169 8.63742 6.88091 8.34917 6.50076 8.34917C6.12061 8.34917 5.81982 8.63742 5.81982 9.00504C5.81982 9.37267 6.12061 9.66091 6.50076 9.66091Z" fill="white"/>
					<path d="M5.87413 3.17832H5.51535L5.52424 3.537L5.6245 7.58083L5.63296 7.92216H5.97439H7.02713H7.36856L7.37702 7.58083L7.47728 3.537L7.48617 3.17832H7.12739H5.87413ZM6.50076 10.0109C7.06121 10.0109 7.5317 9.57872 7.5317 9.00504C7.5317 8.43137 7.06121 7.99918 6.50076 7.99918C5.94031 7.99918 5.46982 8.43137 5.46982 9.00504C5.46982 9.57872 5.94031 10.0109 6.50076 10.0109Z" fill="white" stroke="#EB001B" stroke-width="0.7">
					</symbol>
				</svg>
		
				<h1 class="customer__title">
					{{ 'customer.register.title' | t }}
				</h1>
		
				<div class="customer__form">
					
					<div class="customer__form-register">
						{%- form 'create_customer', novalidate: 'novalidate' -%}
							<div class="customer__field">   
								<label for="RegisterForm-FirstName" class="customer__field-label">
									{{ 'customer.register.first_name' | t }}
								</label>   
								<input
									type="text"
									name="customer[first_name]"
									id="RegisterForm-FirstName"
									class="customer__field-input"
									{% if form.full_name %}value="{{ form.full_name }}"{% endif %}
									autocomplete="given-name"
									placeholder="{{ 'customer.enter' | t }}"
								>
							</div>
		
							<div class="customer__field">      
								<label for="RegisterForm-LastName" class="customer__field-label">
									{{ 'customer.register.last_name' | t }}
								</label>
								<input
									type="text"
									name="customer[last_name]"
									id="RegisterForm-LastName"
									class="customer__field-input"
									{% if form.full_name %}value="{{ form.full_name }}"{% endif %}
									autocomplete="given-name"
									placeholder="{{ 'customer.enter' | t }}"
								>
							</div>
							<div class="customer__field">    
								<label for="RegisterForm-email" class="customer__field-label">
									{{ 'customer.register.email' | t }}
								</label>
		  
								<input
									type="email"
									name="customer[email]"
									id="RegisterForm-email"
									class="customer__field-input"
									{% if form.email %} value="{{ form.email }}"{% endif %}
									spellcheck="false"
									autocapitalize="off"
									autocomplete="email"
									aria-required="true"
									{% if form.errors contains 'email' %}
									aria-invalid="true"
									aria-describedby="RegisterForm-email-error"
									{% endif %}
									placeholder="{{ 'customer.enter' | t }}"
								>
							</div>
		
							{%- if form.errors contains 'email' -%}
								<span id="RegisterForm-email-error" class="form__message">
									<svg aria-hidden="true" focusable="false" role="presentation">
									<use href="#icon-error" />
									</svg>
									{{ form.errors.translated_fields['email'] | capitalize }} {{ form.errors.messages['email'] }}.
								</span>
							{%- endif -%}
		
							<div class="customer__field">   
								<label for="RegisterForm-password" class="customer__field-label">
									{{ 'customer.register.password' | t }}
								</label>  
								<input
									type="password"
									name="customer[password]"
									id="RegisterForm-password"
									class="customer__field-input"
									aria-required="true"
									{% if form.errors contains 'password' %}
									aria-invalid="true"
									aria-describedby="RegisterForm-password-error"
									{% endif %}
									placeholder="{{ 'customer.enter' | t }}"
								>
							</div>
		
							{%- if form.errors contains 'password' -%}
								<span id="RegisterForm-password-error" class="form__message">
									<svg aria-hidden="true" focusable="false" role="presentation">
									<use href="#icon-error" />
									</svg>
									{{ form.errors.translated_fields['password'] | capitalize }} {{ form.errors.messages['password'] }}.
								</span>
							{%- endif -%}
							<div class="customer__form-buttons">
								<button class="button button--customer">
									{{ 'customer.register.submit' | t }}
								</button>
								<a href="/account/register" class="customer__form-button--register">
									{{ 'customer.register.return' | t}}
								</a>
							</div>
							
		
						{%- endform -%}
					</div>
				</div>
			</div>
		</div>
	
	</div>
</div>

{%- endif -%}

{% schema %}
{
    "name": "Customer Login",
    "tag": "article",
    "templates": [
        "customers/register"
    ],
    "presets": [
        {
            "category": "Image",
            "name": "Customer Login"
        }
    ],
    "settings": [
        {
            "type": "header",
            "content": "Section Settings"
        },
        {
            "type": "range",
            "id": "spacing_desktop",
            "label": "Desktop Spacing",
            "info": "Adjust spacing below this section for desktop",
            "min": 0,
            "max": 100,
            "default": 80,
            "step": 5,
            "unit": "px"
        },
        {
            "type": "range",
            "id": "spacing_mobile",
            "label": "Mobile Spacing",
            "info": "Adjust spacing below this section for mobile",
            "min": 0,
            "max": 100,
            "default": 40,
            "step": 5,
            "unit": "px"
        }
    ],
    "blocks": [
        {
            "type": "background",
            "name": "Banner",
            "limit": 1,
            "settings": [
                {
                    "type": "header",
                    "content": "t:sections.all.block_content.image.header"
                },
                {
                    "type": "image_picker",
                    "id": "image",
                    "label": "t:sections.all.block_content.image.primary"
                },
                {
                    "type": "image_picker",
                    "id": "image_mobile",
                    "label": "t:sections.all.block_content.image.mobile"
                },
                {
                    "type": "text",
                    "id": "image_size",
                    "label": "t:sections.all.block_content.image.size.label",
                    "info": "t:sections.all.block_content.image.size.info"
                },
                {
                    "type": "text",
                    "id": "image_alt",
                    "label": "t:sections.all.block_content.image.alt"
                },
                {
                    "type": "url",
                    "id": "image_link",
                    "label": "t:sections.all.block_content.image.link"
                }
            ]
        }
    ]
}
{% endschema %}