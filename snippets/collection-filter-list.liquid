{%- liquid
    assign filter_name = filter.label | strip | downcase
    assign collection_class = 'collection__filter-list'
    
    if filter_name contains 'color' or filter_name contains 'colour'
        assign collection_class = 'collection__filter-colors'
    endif
-%}

<div class="collection__filter">
    <button class="button button--transparent button--icon collection__filter-tab js-filter-heading">
        {{ filter.label | escape }}
        <span class="collection__filter-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" >
                <path d="M16.293 9.293 12 13.586 7.707 9.293l-1.414 1.414L12 16.414l5.707-5.707z"></path>
            </svg>
        </span>
    </button>

    <div class="collection__filter-dropdown js-filter-dropdown">
        <ul class="{{ collection_class }}" role="list">
            {%- for value in filter.values -%}
                {%- if filter.label contains 'Color' or filter.label contains 'color' -%}
                    <li class="collection__filter-color">
                        <input
                            type="checkbox"
                            name="{{ value.param_name }}"
                            value="{{ value.value }}"
                            class="collection__filter-input js-filter-input hidden"
                            id="Filter-{{ filter.param_name }}-{{ forloop.index }}"
                            {% if value.active %}checked{% endif %}
                            {% if value.count == 0 and value.active == false %}disabled{% endif %}
                            hidden
                        >
                        <label class="collection__filter-input-color swatches-{{ value.label | handle }}" for="Filter-{{ filter.param_name }}-{{ forloop.index }}" title="{{ value.label | handle }}"></label>
                    </li>
                {%- else -%}
                    <li class="collection__filter-item">
                        <label
                            for="Filter-{{ filter.param_name }}-{{ forloop.index }}"
                            class="collection__filter-link">
                            {{ value.label | escape }} ({{ value.count }})
                            <input
                                type="checkbox"
                                name="{{ value.param_name }}"
                                value="{{ value.value }}"
                                class="collection__filter-input js-filter-input hidden"
                                id="Filter-{{ filter.param_name }}-{{ forloop.index }}"
                                {% if value.active %}checked{% endif %}
                                {% if value.count == 0 and value.active == false %}disabled{% endif %}
                            >
                        </label>
                    </li>
                {%- endif -%}
            {%- endfor -%}
        </ul>
    </div>
</div>
